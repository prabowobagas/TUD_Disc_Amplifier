Version 4
SHEET 1 2764 784
WIRE 432 -864 240 -864
WIRE 880 -864 432 -864
WIRE 1376 -864 880 -864
WIRE 1472 -864 1376 -864
WIRE 240 -832 240 -864
WIRE 432 -832 432 -864
WIRE 880 -832 880 -864
WIRE 1472 -832 1472 -864
WIRE 336 -816 288 -816
WIRE 544 -816 480 -816
WIRE 592 -816 544 -816
WIRE 832 -816 592 -816
WIRE 1520 -816 832 -816
WIRE 1888 -816 1872 -816
WIRE 1936 -816 1888 -816
WIRE 2064 -816 2016 -816
WIRE 2080 -816 2064 -816
WIRE 2160 -816 2080 -816
WIRE 2272 -816 2240 -816
WIRE 2288 -816 2272 -816
WIRE 880 -720 880 -736
WIRE 992 -720 880 -720
WIRE 1088 -720 992 -720
WIRE 1360 -720 1264 -720
WIRE 1472 -720 1472 -736
WIRE 1472 -720 1360 -720
WIRE 2080 -704 2080 -816
WIRE 432 -688 432 -736
WIRE 880 -688 880 -720
WIRE 1472 -688 1472 -720
WIRE 240 -672 240 -736
WIRE 336 -672 336 -816
WIRE 336 -672 240 -672
WIRE 480 -672 336 -672
WIRE 528 -672 480 -672
WIRE 832 -672 528 -672
WIRE 1520 -672 832 -672
WIRE 2256 -624 2256 -656
WIRE 1088 -608 1088 -720
WIRE 432 -560 432 -592
WIRE 592 -560 592 -816
WIRE 592 -560 432 -560
WIRE 1472 -560 1472 -592
WIRE 2080 -560 2080 -624
WIRE 880 -544 880 -592
WIRE 240 -496 240 -672
WIRE 432 -496 432 -560
WIRE 752 -496 736 -496
WIRE 880 -496 880 -544
WIRE 880 -496 752 -496
WIRE 1472 -496 1472 -560
WIRE 1552 -496 1472 -496
WIRE 1568 -496 1552 -496
WIRE 1088 -480 1088 -608
WIRE 1264 -480 1264 -720
WIRE 1040 -400 1008 -400
WIRE 1344 -400 1312 -400
WIRE 1184 -384 1088 -384
WIRE 1264 -384 1184 -384
WIRE 432 -336 432 -416
WIRE 880 -336 880 -496
WIRE 1184 -336 1184 -384
WIRE 1472 -336 1472 -496
WIRE 240 -256 240 -416
WIRE 304 -256 240 -256
WIRE 480 -256 304 -256
WIRE 656 -256 480 -256
WIRE 832 -256 656 -256
WIRE 1136 -256 832 -256
WIRE 1520 -256 1136 -256
WIRE 880 -208 880 -240
WIRE 912 -208 880 -208
WIRE 1184 -208 1184 -240
WIRE 1232 -208 1184 -208
WIRE 1472 -208 1472 -240
WIRE 1472 -208 1440 -208
WIRE 240 -192 240 -256
WIRE 432 -192 432 -240
WIRE 880 -192 880 -208
WIRE 1184 -192 1184 -208
WIRE 1472 -192 1472 -208
WIRE 304 -112 304 -256
WIRE 304 -112 288 -112
WIRE 608 -112 480 -112
WIRE 672 -112 608 -112
WIRE 832 -112 672 -112
WIRE 1072 -112 832 -112
WIRE 1136 -112 1072 -112
WIRE 1520 -112 1136 -112
WIRE 240 -80 240 -96
WIRE 432 -80 432 -96
WIRE 432 -80 240 -80
WIRE 880 -80 880 -96
WIRE 880 -80 432 -80
WIRE 1184 -80 1184 -96
WIRE 1184 -80 880 -80
WIRE 1472 -80 1472 -96
WIRE 1472 -80 1184 -80
WIRE 1184 -32 1184 -80
WIRE 608 -16 608 -48
WIRE 736 128 688 128
WIRE 864 128 816 128
WIRE 576 208 512 208
WIRE 688 208 688 128
WIRE 688 208 656 208
WIRE 736 208 688 208
WIRE 864 208 864 128
WIRE 864 208 800 208
WIRE 512 304 512 208
WIRE 576 304 512 304
WIRE 688 304 688 208
WIRE 688 304 640 304
WIRE 736 304 688 304
WIRE 864 304 864 208
WIRE 1056 304 864 304
WIRE 704 384 688 384
WIRE 704 480 688 480
WIRE 512 560 512 544
WIRE 576 560 512 560
WIRE 688 560 640 560
WIRE 736 560 688 560
WIRE 1040 560 864 560
WIRE 512 656 512 560
WIRE 560 656 512 656
WIRE 688 656 688 560
WIRE 688 656 640 656
WIRE 736 656 688 656
WIRE 864 656 864 560
WIRE 864 656 800 656
WIRE 688 736 688 656
WIRE 720 736 688 736
WIRE 864 736 864 656
WIRE 864 736 800 736
FLAG 1088 -432 0
FLAG 1184 -288 0
FLAG 1184 -144 0
FLAG 1184 -32 0
FLAG 880 -288 0
FLAG 880 -144 0
FLAG 2256 -544 0
FLAG 2256 -656 Vdd
FLAG 880 -864 Vdd
FLAG 880 -640 Vdd
FLAG 880 -784 Vdd
FLAG 432 -144 0
FLAG 240 -144 0
FLAG 432 -288 0
FLAG 432 -784 Vdd
FLAG 432 -640 Vdd
FLAG 240 -784 Vdd
FLAG 1264 -432 0
FLAG 1472 -288 0
FLAG 1472 -144 0
FLAG 1472 -864 Vdd
FLAG 1472 -640 Vdd
FLAG 1472 -784 Vdd
FLAG 608 -16 0
FLAG 1072 -112 V_cm_fb
FLAG 2080 -560 V_cm_fb
FLAG 1008 -400 Vin_p
FLAG 1344 -400 Vin_n
FLAG 752 -496 Vo_n
FLAG 1552 -496 Vo_p
FLAG 2272 -816 Vo_p
FLAG 1888 -816 Vo_n
FLAG 1568 -432 0
FLAG 736 -432 0
FLAG 1008 -320 0
FLAG 1344 -320 0
FLAG 1056 304 Vo_n
FLAG 1040 560 Vo_p
FLAG 736 304 Vin_p
FLAG 736 560 Vin_n
FLAG 768 384 0
FLAG 768 480 0
FLAG 688 384 V_RC_p
FLAG 688 480 V_RC_n
DATAFLAG 912 -208 "round($*10k)/10k"
DATAFLAG 1184 -384 "round($*10k)/10k"
DATAFLAG 1232 -208 "round($*10k)/10k"
DATAFLAG 992 -720 "round($*1k)/1k"
DATAFLAG 880 -544 "round($*1k)/1k"
DATAFLAG 1440 -208 "round($*10k)/10k"
DATAFLAG 1360 -720 "round($*1k)/1k"
DATAFLAG 1376 -864 "round($*1k)/1k"
DATAFLAG 1472 -560 "round($*1k)/1k"
DATAFLAG 1088 -608 "Id(M1)"
DATAFLAG 2064 -816 ""
DATAFLAG 544 -816 ""
DATAFLAG 528 -672 ""
DATAFLAG 656 -256 ""
DATAFLAG 672 -112 ""
DATAFLAG 800 -400 "Id(M11)"
DATAFLAG 960 -832 "-Id(M5)"
DATAFLAG 1104 -208 "Id(M4)"
SYMBOL nmos4 1040 -480 R0
SYMATTR InstName M1
SYMATTR Value nch
SYMATTR Value2 l=0.36u w=22u m=18
SYMBOL nmos4 1136 -336 R0
SYMATTR InstName M3
SYMATTR Value nch
SYMATTR Value2 l={Ln_casc} w=86u m={Mn_casc}
SYMBOL nmos4 1136 -192 R0
SYMATTR InstName M4
SYMATTR Value nch
SYMATTR Value2 l={Ln_casc} w=86u m={Mn_casc}
SYMBOL pmos4 832 -592 M180
SYMATTR InstName M10
SYMATTR Value pch
SYMATTR Value2 l={Lp_casc} w=51u m={Mp_casc}
SYMBOL nmos4 832 -336 R0
SYMATTR InstName M11
SYMATTR Value nch
SYMATTR Value2 l={Ln_casc} w=43u m={Mn_casc}
SYMBOL nmos4 832 -192 R0
SYMATTR InstName M12
SYMATTR Value nch
SYMATTR Value2 l={Ln_casc} w=43u m={Mn_casc}
SYMBOL voltage 2256 -640 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 1.8
SYMBOL pmos4 832 -736 M180
SYMATTR InstName M5
SYMATTR Value pch
SYMATTR Value2 l={Lp_casc_top} w=28u m={Mp_casc_top}
SYMBOL res 2032 -832 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100Meg
SYMBOL res 2256 -832 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 100Meg
SYMBOL nmos4 480 -192 M0
SYMATTR InstName M13
SYMATTR Value nch
SYMATTR Value2 l=0.36u w=86u
SYMBOL current 432 -496 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I1
SYMATTR Value 0.9m
SYMBOL nmos4 480 -336 M0
SYMATTR InstName M14
SYMATTR Value nch
SYMATTR Value2 l=0.36u w=86u
SYMBOL current 240 -496 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 25 75 Left 2
SYMATTR Value 3.6m
SYMATTR InstName I2
SYMBOL nmos4 288 -192 M0
SYMATTR InstName M15
SYMATTR Value nch
SYMATTR Value2 l=0.36u w=86u
SYMBOL pmos4 480 -736 R180
SYMATTR InstName M16
SYMATTR Value pch
SYMATTR Value2 l=0.36u w=32u m=7
SYMBOL pmos4 480 -592 R180
SYMATTR InstName M17
SYMATTR Value pch
SYMATTR Value2 l=0.36u w=51u m=2
SYMBOL pmos4 288 -736 R180
SYMATTR InstName M18
SYMATTR Value pch
SYMATTR Value2 l=0.36u w=51u m=2
SYMBOL nmos4 1312 -480 M0
SYMATTR InstName M2
SYMATTR Value nch
SYMATTR Value2 l=0.36u w=22u m=18
SYMBOL pmos4 1520 -592 R180
SYMATTR InstName M6
SYMATTR Value pch
SYMATTR Value2 l={Lp_casc} w=51u m={Mp_casc}
SYMBOL nmos4 1520 -336 M0
SYMATTR InstName M7
SYMATTR Value nch
SYMATTR Value2 l={Ln_casc} w=43u m={Mn_casc}
SYMBOL nmos4 1520 -192 M0
SYMATTR InstName M8
SYMATTR Value nch
SYMATTR Value2 l={Ln_casc} w=43u m={Mn_casc}
SYMBOL pmos4 1520 -736 R180
SYMATTR InstName M9
SYMATTR Value pch
SYMATTR Value2 l={Lp_casc_top} w=28u m={Mp_casc_top}
SYMBOL cap 592 -112 R0
SYMATTR InstName C2
SYMATTR Value 1000µ
SYMBOL Overige\ componenten\\voltage 2080 -720 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 0.3
SYMBOL cap 640 288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 15p
SYMBOL cap 800 192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 1.5p
SYMBOL cap 640 576 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C6
SYMATTR Value 20p
SYMBOL cap 800 672 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C7
SYMATTR Value 2p
SYMBOL res 672 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10Meg
SYMBOL res 832 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100Meg
SYMBOL res 656 640 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10Meg
SYMBOL res 816 720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100Meg
SYMBOL cap 720 -496 R0
SYMATTR InstName C1
SYMATTR Value {Cload}
SYMBOL cap 1552 -496 R0
SYMATTR InstName C9
SYMATTR Value {Cload}
SYMBOL Overige\ componenten\\voltage 1008 -416 M0
WINDOW 3 24 44 Left 2
WINDOW 123 24 72 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value {Vcm}
SYMATTR Value2 AC 0.5
SYMATTR InstName V6
SYMBOL Overige\ componenten\\voltage 1344 -416 M0
WINDOW 3 24 44 Left 2
WINDOW 123 24 72 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value {Vcm}
SYMATTR Value2 AC -0.5
SYMATTR InstName V7
SYMBOL res 672 288 R0
SYMATTR InstName R7
SYMATTR Value 10Meg
SYMBOL res 672 464 R0
SYMATTR InstName R8
SYMATTR Value 10Meg
SYMBOL cap 768 368 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 1000µ
SYMBOL cap 704 496 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C8
SYMATTR Value 1000µ
TEXT -576 -800 Left 2 !.lib 'C:\\Program Files (x86)\\LTC\\LTspiceIV\\lib\\cmp\\log018.l' TT
TEXT -576 -720 Left 2 !;tran 60n
TEXT -576 -768 Left 2 !.lib opamp.sub
TEXT -576 -688 Left 2 !;op
TEXT -576 -656 Left 2 !.ac dec 100 100 1G
TEXT 1888 -408 Left 2 !.param Mn_casc=5, Ln_casc=0.36u*Mn_casc
TEXT 1888 -384 Left 2 !.param Mp_casc = Mn_casc*2, Lp_casc=0.36u*Mn_casc
TEXT 1888 -352 Left 2 !.param Mp_casc_top = 5*Mn_casc, Lp_casc_top = 0.36u*Mn_casc
TEXT 1888 -320 Left 2 !.param Vcm=0.95, Cload=3p
